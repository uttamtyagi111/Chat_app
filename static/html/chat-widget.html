<!-- Chat Bubble Container with Attention Grabber -->
<div id="chat-bubble-container">
    <div id="attention-grabber">
        <img src="${WIDGET_CONFIG.attentionGrabber}" alt="Icon" />
        <!-- <div class="grabber-texts">
            <div class="grabber-title">${WIDGET_CONFIG.attentionTitle || 'LET\'S CHAT'}</div>
            <div class="grabber-subtitle">${WIDGET_CONFIG.attentionSubtitle || 'We Are Online'}</div>
        </div> -->
        <!-- <span class="grabber-badge">1</span> -->
    </div>

    <div id="chat-bubble">
        <img id="chat-bubble-logo" src="${WIDGET_CONFIG.logoUrl}" alt="Chat Logo" />
    </div>
</div>

<!-- Chat Window -->
<div id="chat-window">
    <div id="chat-header">
        <span>${WIDGET_CONFIG.chatTitle}</span>
        <div class="header-controls">
            <!-- <span class="connection-status connected">Online</span> -->
            <div class="history-controls">
                <span class="history-label">Load history:</span>
                <select class="history-select">
                    <option value="5">Last 5 messages</option>
                    <option value="10">Last 10 messages</option>
                    <option value="full" selected>Full history</option>
                </select>
            </div>
            <span id="mute-toggle">ğŸ”Š</span>
        </div>
    </div>

    <div id="chat-content">
        <div id="chat-messages">
            <!-- Background Logo -->
            <div id="chat-messages-logo-container">
                <img id="chat-messages-logo" src="${WIDGET_CONFIG.logoUrl}" alt="Chat Logo"
                    onload="console.log('Logo loaded')" onerror="console.error('Failed to load logo')" />
            </div>

            <!-- Welcome Message (example) -->
            <div class="message system">
                <span>${WIDGET_CONFIG.welcomeMessage}</span>
                <span class="timestamp">10:30 AM</span>
            </div>

            <!-- Example Messages for Demo -->
            <div class="message agent">
                <span>Hello! I'm here to help you. What questions do you have?</span>
                <span class="timestamp">10:31 AM</span>
            </div>

            <div class="message user">
                <span>Hi, I need help with my account</span>
                <span class="timestamp">10:32 AM âœ“âœ“</span>
            </div>

            <div class="message agent">
                <span>I'd be happy to help you with your account. Can you please provide more details about the issue
                    you're experiencing?</span>
                <div class="file-preview">
                    <img src="https://via.placeholder.com/200x100" alt="Example image" />
                </div>
                <span class="timestamp">10:33 AM</span>
            </div>

            <!-- Suggested Replies Example -->
            <div class="suggested-replies">
                <button>Login issues</button>
                <button>Password reset</button>
                <button>Account verification</button>
                <button>Other</button>
            </div>

            <!-- Typing Indicator (hidden by default) -->
            <div class="typing-indicator" style="display: none;">
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <!-- <div id="chat-form" style="display: none;">
            <div class="form-group">
                <label for="form-name">Name:</label>
                <input id="form-name" type="text" placeholder="Enter your name" required />
            </div>
            <div class="form-group">
                <label for="form-email">Email:</label>
                <input id="form-email" type="email" placeholder="Enter your email" required />
            </div>
            <button id="form-submit" class="submit-btn">Submit</button>
        </div> -->

        <!-- File Preview Container -->
        <div id="file-preview-container">
            <div id="file-preview-box">
                <span id="file-preview-name"></span>
                <span id="remove-file">âœ•</span>
            </div>
        </div>

        <!-- Chat Input Footer -->
        <div id="chat-footer">
            <label id="attach-button" for="file-input" title="Attach file">ğŸ“</label>
            <input type="file" id="file-input" accept="image/*,application/pdf,.doc,.docx" style="display: none" />

            <input id="chat-input" type="text" placeholder="${WIDGET_CONFIG.placeholder}" maxlength="1000" />

            <span id="emoji-button" title="Add emoji">ğŸ˜Š</span>
            <button id="send-btn" title="Send message">Send</button>
        </div>
    </div>

    <!-- Emoji Picker -->
    <div id="emoji-picker">
        <span class="emoji" title="Happy">ğŸ˜€</span>
        <span class="emoji" title="Laughing">ğŸ˜‚</span>
        <span class="emoji" title="Heart">â¤ï¸</span>
        <span class="emoji" title="Thumbs up">ğŸ‘</span>
        <span class="emoji" title="Thinking">ğŸ¤”</span>
        <span class="emoji" title="Sad">ğŸ˜¢</span>
        <span class="emoji" title="Angry">ğŸ˜ </span>
        <span class="emoji" title="Surprised">ğŸ˜®</span>
        <span class="emoji" title="Wink">ğŸ˜‰</span>
        <span class="emoji" title="Cool">ğŸ˜</span>
        <!-- More emojis can be dynamically added from WIDGET_CONFIG.emojis[] if available -->
    </div>
</div>